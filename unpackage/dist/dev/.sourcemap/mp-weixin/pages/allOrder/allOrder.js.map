{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/14183/Desktop/manggou/manggou7-21/manggou/pages/allOrder/allOrder.vue?c522","webpack:///C:/Users/14183/Desktop/manggou/manggou7-21/manggou/pages/allOrder/allOrder.vue?2f93","webpack:///C:/Users/14183/Desktop/manggou/manggou7-21/manggou/pages/allOrder/allOrder.vue?4135","webpack:///C:/Users/14183/Desktop/manggou/manggou7-21/manggou/pages/allOrder/allOrder.vue?2fef","uni-app:///pages/allOrder/allOrder.vue","webpack:///C:/Users/14183/Desktop/manggou/manggou7-21/manggou/pages/allOrder/allOrder.vue?31df"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","l0","_self","_c","selectAllOrdedel","__map","item","index","$orig","__get_orig","g0","price","toFixed","l1","selectOrdedel","g1","l2","g2","l3","g3","l4","g4","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","curr","active","taber","myDeal","flag","currs","total","page","list","button","userInfo","pageNum","pageNumAllOrder","timer","timerAll","watch","methods","OrderDetails","uni","title","icon","getAllOrder","app","pageSize","userId","console","deletedeal","deleteOrder","content","showCancel","success","id","url","setCurr","toBack","delta","getSelectOrderr","status","dataHandle","arr","buy","getWxPayById","outTradeNo","wxPayment","provider","timeStamp","nonceStr","package","signType","paySign","fail","confirmReceipt","orderId","onLoad"],"mappings":"kJAAA,MAGA,aACA,YAFAA,EAAGC,kCAAoCC,EAGvCC,EAAWC,a,gFCLX,oIACIC,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,8BACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GAEO,IAAxBN,EAAIO,iBACAP,EAAIQ,MAAMR,EAAIO,kBAAkB,SAAUE,EAAMC,GAC9C,IAAIC,EAAQX,EAAIY,WAAWH,GACvBI,GAAMJ,EAAKK,MAAQ,KAAKC,QAAQ,GACpC,MAAO,CACLJ,MAAOA,EACPE,GAAIA,MAGR,MACFG,EACmB,IAArBhB,EAAIiB,cACAjB,EAAIQ,MAAMR,EAAIiB,eAAe,SAAUR,EAAMC,GAC3C,IAAIC,EAAQX,EAAIY,WAAWH,GACvBS,GAAMT,EAAKK,MAAQ,KAAKC,QAAQ,GACpC,MAAO,CACLJ,MAAOA,EACPO,GAAIA,MAGR,KACFC,EACmB,IAArBnB,EAAIiB,cACAjB,EAAIQ,MAAMR,EAAIiB,eAAe,SAAUR,EAAMC,GAC3C,IAAIC,EAAQX,EAAIY,WAAWH,GACvBW,GAAMX,EAAKK,MAAQ,KAAKC,QAAQ,GACpC,MAAO,CACLJ,MAAOA,EACPS,GAAIA,MAGR,KACFC,EACmB,IAArBrB,EAAIiB,cACAjB,EAAIQ,MAAMR,EAAIiB,eAAe,SAAUR,EAAMC,GAC3C,IAAIC,EAAQX,EAAIY,WAAWH,GACvBa,GAAMb,EAAKK,MAAQ,KAAKC,QAAQ,GACpC,MAAO,CACLJ,MAAOA,EACPW,GAAIA,MAGR,KACFC,EACmB,IAArBvB,EAAIiB,cACAjB,EAAIQ,MAAMR,EAAIiB,eAAe,SAAUR,EAAMC,GAC3C,IAAIC,EAAQX,EAAIY,WAAWH,GACvBe,GAAMf,EAAKK,MAAQ,KAAKC,QAAQ,GACpC,MAAO,CACLJ,MAAOA,EACPa,GAAIA,MAGR,KACNxB,EAAIyB,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLzB,GAAIA,EACJY,GAAIA,EACJG,GAAIA,EACJE,GAAIA,EACJE,GAAIA,MAKRO,GAAmB,EACnBC,EAAkB,GACtBhC,EAAOiC,eAAgB,G,iCC3EvB,yHAAoqB,eAAG,G,gHCiTvqB,iBACA,CACAN,gBACA,OACAO,OACAC,SACAC,qCACAC,UACAnB,iBACAoB,UACA9B,oBACA+B,WACAC,WACAC,OACAC,UACAC,UACAC,YACAC,UACAC,kBAEAC,WACAC,gBAGAC,OACAf,mBACA,eACA,uBAEA,sBACA,2BAGAgB,SAEAC,yBACAC,aACAC,kBACAC,eAOAC,uBAAA,iIACA,6DACAC,6BACAX,UACAY,WACAC,0BACA,kBACA,oBACA,oBACA,qBACA,4BACA,6EACAC,yCACAA,4BACAA,qCACA,MACAP,aACAC,eACAC,cAGAF,aACAC,gBACAC,iBAGA,mBACAF,aACAC,gBACAC,mBAIAF,gBACA,qBAIAQ,uBACA,aACA,eAGA,aAKAC,wBAEA,eACA,WACAT,aACAC,aACAS,oBACAC,cACAC,oBAAA,WACA,UACAR,0BACAS,KACAP,uBACA,kBACAC,yBAIAP,cACAc,uDAEAP,uBACA,mBACAA,4BAEA,UACAA,wBAYAQ,oBACA,6DACA,YAIA,QACAR,kCACAZ,6BACA,uBAEAA,aACA,KAIA,gBAEA,WACAC,gCACA,mBAEAA,gBACA,OAKAoB,kBACAhB,gBACAiB,WAIAC,2BAAA,WACA,uBACAd,kCACAE,wBACAa,kBACA1B,qBACAY,aACA,kBACA,2BACA,4BACA,YACA,uEACAE,0CACAA,4BACAA,iCAEA,mBACAP,aACAC,gBACAC,mBAKAkB,yBACA,oCACAC,2CACA,kBACAA,+CAGA,UAGAC,gBACAtB,aACAC,YACAC,iBAEA,mCAGAqB,yBAAA,WACAnB,oCACAoB,eACA,kBACA,mCACA,mBACAxB,aACAC,gBACAC,mBAKAuB,sBAAA,WACAzB,kBACA0B,iBACAC,sBACAC,oBACAC,qBACAC,oBACAC,kBACAnB,oBACAZ,aACAC,aACAC,iBAEAF,cACAc,+DAGAkB,iBACAhC,aACAC,aACAC,mBAMA+B,2BAAA,WACA7B,6BACA8B,YACA,kBACA,YACA,mBACAlC,aACAC,gBACAC,oBAKAiC,mBACA,2CAEA,OACA,iBAEA,qBAGA,c,6DC7jBA,yHAAuvC,eAAG,G","file":"pages/allOrder/allOrder.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/allOrder/allOrder.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./allOrder.vue?vue&type=template&id=6e1da926&\"\nvar renderjs\nimport script from \"./allOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./allOrder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./allOrder.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/allOrder/allOrder.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./allOrder.vue?vue&type=template&id=6e1da926&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    _vm.selectAllOrdedel != \"\"\n      ? _vm.__map(_vm.selectAllOrdedel, function (item, index) {\n          var $orig = _vm.__get_orig(item)\n          var g0 = (item.price / 100).toFixed(2)\n          return {\n            $orig: $orig,\n            g0: g0,\n          }\n        })\n      : null\n  var l1 =\n    _vm.selectOrdedel != \"\"\n      ? _vm.__map(_vm.selectOrdedel, function (item, index) {\n          var $orig = _vm.__get_orig(item)\n          var g1 = (item.price / 100).toFixed(2)\n          return {\n            $orig: $orig,\n            g1: g1,\n          }\n        })\n      : null\n  var l2 =\n    _vm.selectOrdedel != \"\"\n      ? _vm.__map(_vm.selectOrdedel, function (item, index) {\n          var $orig = _vm.__get_orig(item)\n          var g2 = (item.price / 100).toFixed(2)\n          return {\n            $orig: $orig,\n            g2: g2,\n          }\n        })\n      : null\n  var l3 =\n    _vm.selectOrdedel != \"\"\n      ? _vm.__map(_vm.selectOrdedel, function (item, index) {\n          var $orig = _vm.__get_orig(item)\n          var g3 = (item.price / 100).toFixed(2)\n          return {\n            $orig: $orig,\n            g3: g3,\n          }\n        })\n      : null\n  var l4 =\n    _vm.selectOrdedel != \"\"\n      ? _vm.__map(_vm.selectOrdedel, function (item, index) {\n          var $orig = _vm.__get_orig(item)\n          var g4 = (item.price / 100).toFixed(2)\n          return {\n            $orig: $orig,\n            g4: g4,\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        l1: l1,\n        l2: l2,\n        l3: l3,\n        l4: l4,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./allOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./allOrder.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"mg-allOrder\">\r\n\t\t<!-- 头部 -->\r\n\t\t<view class=\"mg-allOrder-top\">\r\n\t\t\t<!-- 我的订单标题 -->\r\n\t\t\t<view class=\"mg-top\">\r\n\t\t\t\t<image src=\"https://mang-gou.tos-cn-beijing.volces.com/address%2F%E8%BF%94%E5%9B%9E%403x%402x.png\" @click=\"toBack\"></image>\r\n\t\t\t\t<view class=\"\">全部订单</view>\r\n\t\t\t\t<image></image>\r\n\t\t\t</view>\r\n\t\t\t<!-- 搜索框 -->\r\n\t\t\t<view class=\"mg-allOrder-search\">\r\n\t\t\t\t<view class=\"mg-search\">\r\n\t\t\t\t\t<image src=\"https://mang-gou.tos-cn-beijing.volces.com/index%2F%E7%BB%84%E4%BB%B6%2029%20%E2%80%93%206%403x.png\"></image>\r\n\t\t\t\t\t<input type=\"text\" placeholder=\"搜索我的订单\" v-model=\"ordercontent\" @input=\"handleInput\">\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- tab -->\r\n\t\t\t<view class=\"mg-allOrder-tab\">\r\n\t\t\t\t<!-- 选择 -->\r\n\t\t\t\t<view \r\n\t\t\t\t\tclass=\"nav_item mg-taberOfservice-select\" \r\n\t\t\t\t\tv-for=\"(item,index) in taber\" \r\n\t\t\t\t\t:key=\"index\" \r\n\t\t\t\t\t@tap=\"setCurr\" \r\n\t\t\t\t\t:data-index=\"index\" \r\n\t\t\t\t\t:class=\"curr===index ? 'select' : ''\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<view>{{item}}</view>\r\n\t\t\t\t\t<view class=\"mt-Community-label-bottom\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 内容 -->\r\n\t\t<view class=\"mg-allOrder-content\">\r\n\t\t\t<swiper \r\n\t\t\t\tstyle=\"height: 1242rpx;width: 100%;\" \r\n\t\t\t\tclass=\"mg-allOrder-buttom\" \r\n\t\t\t\t:current=\"curr\" \r\n\t\t\t\t@change=\"setCurr\"\r\n\t\t\t>\r\n\t\t\t\t<!-- 全部 -->\r\n\t\t\t\t<swiper-item>\r\n\t\t\t\t\t<scroll-view \r\n\t\t\t\t\t\tscroll-with-animation=\"true\" \r\n\t\t\t\t\t\tscroll-y=\"true\" \r\n\t\t\t\t\t\tstyle=\"height:1242rpx;\" \r\n\t\t\t\t\t\t@scrolltolower=\"getAllOrder(pageNumAllOrder)\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<view class=\"mg-goodsCard-box\" v-if=\"selectAllOrdedel != ''\">\r\n\t\t\t\t\t\t\t<!-- 卡片循环 -->\r\n\t\t\t\t\t\t\t<view class=\"mg-goodsCard\" v-for=\"(item,index) in selectAllOrdedel\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t<!-- 商铺logo和标题订单状态 -->\r\n\t\t\t\t\t\t\t\t<view class=\"mg-shop\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"mg-shop-img\">\r\n\t\t\t\t\t\t\t\t\t\t<image :src=\"item.userAvatar\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"mg-shop-img-view\">{{item.userName}}</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"mg-dealState-pay\" v-if=\"item.status == 0\">待支付</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"mg-dealState-pay\" v-if=\"item.status == 1\">待收货</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"mg-dealState-pay\" v-if=\"item.status == 2\">待评价</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"mg-dealState-pay\" v-if=\"item.status == 3\">交易完成</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- 订单详情 -->\r\n\t\t\t\t\t\t\t\t<view class=\"mg-goodsIntroduction\">\r\n\t\t\t\t\t\t\t\t\t<image :src=\"item.goodsImg\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t\t<view class=\"mg-PurchasedGoods\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"mg-GoodsTitle\">{{item.goodsName}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"mg-goodsPriceAndSum\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"price\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text>¥</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{(item.price / 100).toFixed(2)}}</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- 更多和支付 -->\r\n\t\t\t\t\t\t\t\t<view class=\"mg-more\">\r\n\t\t\t\t\t\t\t\t\t<text @click=\"deletedeal(index)\">更多</text>\r\n\t\t\t\t\t\t\t\t\t<view class=\"deleteDeal\" v-if=\"flag == index\" @click=\"deleteOrder(item.id)\">删除订单</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"used\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"used-1\">联系卖家</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"used-2\" v-if=\"item.status == 0\">待付款</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"used-2\" v-if=\"item.status == 1\">确认收货</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"used-2\" v-if=\"item.status == 2\">去评价</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"used-4\" v-if=\"item.status == 3\">已评价</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"used-3\" @click=\"OrderDetails(item.id)\" v-if=\"item.status == 1 || item.status == 2 || item.status == 3\">查看物流</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"mg-goodsCard-box\" v-else>\r\n\t\t\t\t\t\t\t<!-- 卡片循环 -->\r\n\t\t\t\t\t\t\t<view class=\"mg-goodsCard-box-none\" style=\"text-align: center;\">\r\n\t\t\t\t\t\t\t\t<image src=\"https://mang-gou.tos-cn-beijing.volces.com/allOrder%2F%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20230724170906.png\"></image>\r\n\t\t\t\t\t\t\t\t<view v-if=\"curr == 0\">还没有相关订单</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"mg-button\">\r\n\t\t\t\t\t\t\t{{button}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 待付款 -->\r\n\t\t\t\t<swiper-item>\r\n\t\t\t\t\t<scroll-view @scrolltolower=\"getSelectOrderr(pageNum)\" scroll-with-animation=\"true\" scroll-y=\"true\" style=\"height:1242rpx;\">\r\n\t\t\t\t\t\t<view class=\"mg-goodsCard-box\" v-if=\"selectOrdedel != ''\">\r\n\t\t\t\t\t\t\t<!-- 卡片循环 -->\r\n\t\t\t\t\t\t\t<view class=\"mg-goodsCard\" v-for=\"(item,index) in selectOrdedel\" :key=\"index\">\r\n\t\t\t\t\t\t\t<!-- <view class=\"mg-goodsCard\"> -->\r\n\t\t\t\t\t\t\t\t<!-- 商铺logo和标题订单状态 -->\r\n\t\t\t\t\t\t\t\t<view class=\"mg-shop\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"mg-shop-img\">\r\n\t\t\t\t\t\t\t\t\t\t<image :src=\"item.userAvatar\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"mg-shop-img-view\">{{item.userName}}</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"mg-dealState-pay\">待支付</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- 订单详情 -->\r\n\t\t\t\t\t\t\t\t<view class=\"mg-goodsIntroduction\">\r\n\t\t\t\t\t\t\t\t\t<image :src=\"item.goodsImg\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t\t<view class=\"mg-PurchasedGoods\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"mg-GoodsTitle\">{{item.goodsName}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"mg-goodsPriceAndSum\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"price\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text>¥</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{(item.price / 100).toFixed(2)}}</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- 更多和支付 -->\r\n\t\t\t\t\t\t\t\t<view class=\"mg-more\">\r\n\t\t\t\t\t\t\t\t\t<text @click=\"deletedeal(index)\">更多</text>\r\n\t\t\t\t\t\t\t\t\t<view class=\"deleteDeal\" v-if=\"flag == index\" @click=\"deleteOrder(item.id)\">删除订单</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"used\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"used-1\">联系卖家</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"used-2\" @click=\"buy(item)\">待付款</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"mg-goodsCard-box\" v-else>\r\n\t\t\t\t\t\t\t<!-- 卡片循环 -->\r\n\t\t\t\t\t\t\t<view class=\"mg-goodsCard-box-none\" style=\"text-align: center;\">\r\n\t\t\t\t\t\t\t\t<image src=\"https://mang-gou.tos-cn-beijing.volces.com/allOrder%2F%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20230724170906.png\"></image>\r\n\t\t\t\t\t\t\t\t<view v-if=\"currs == 0\">还没有相关订单</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 待收货 -->\r\n\t\t\t\t<swiper-item>\r\n\t\t\t\t\t<scroll-view @scrolltolower=\"getSelectOrderr(pageNum)\" scroll-with-animation=\"true\" scroll-y=\"true\" style=\"height:1242rpx;\">\r\n\t\t\t\t\t\t<view class=\"mg-goodsCard-box\" v-if=\"selectOrdedel != ''\">\r\n\t\t\t\t\t\t\t<!-- 卡片循环 -->\r\n\t\t\t\t\t\t\t<view class=\"mg-goodsCard\" v-for=\"(item,index) in selectOrdedel\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t<!-- <view class=\"mg-goodsCard\"> -->\r\n\t\t\t\t\t\t\t\t<!-- 商铺logo和标题订单状态 -->\r\n\t\t\t\t\t\t\t\t<view class=\"mg-shop\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"mg-shop-img\">\r\n\t\t\t\t\t\t\t\t\t\t<image :src=\"item.userAvatar\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"mg-shop-img-view\">{{item.userName}}</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"mg-dealState-pay\">待收货</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- 订单详情 -->\r\n\t\t\t\t\t\t\t\t<view class=\"mg-goodsIntroduction\">\r\n\t\t\t\t\t\t\t\t\t<image :src=\"item.goodsImg\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t\t<view class=\"mg-PurchasedGoods\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"mg-GoodsTitle\">{{item.goodsName}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"mg-goodsPriceAndSum\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"price\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text>¥</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{(item.price / 100).toFixed(2)}}</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- 更多和支付 -->\r\n\t\t\t\t\t\t\t\t<view class=\"mg-more\">\r\n\t\t\t\t\t\t\t\t\t<text @click=\"deletedeal(index)\">更多</text>\r\n\t\t\t\t\t\t\t\t\t<view class=\"deleteDeal\" v-if=\"flag == index\" @click=\"deleteOrder(item.id)\">删除订单</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"used\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"used-1\">联系卖家</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"used-2\" @click=\"confirmReceipt(item.id)\">确认收货</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"used-3\" @click=\"OrderDetails(item.id)\">查看物流</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"mg-goodsCard-box\" v-else>\r\n\t\t\t\t\t\t\t<!-- 卡片循环 -->\r\n\t\t\t\t\t\t\t<view class=\"mg-goodsCard-box-none\" style=\"text-align: center;\">\r\n\t\t\t\t\t\t\t\t<image src=\"https://mang-gou.tos-cn-beijing.volces.com/allOrder%2F%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20230724170906.png\"></image>\r\n\t\t\t\t\t\t\t\t<view v-if=\"currs == 1\">还没有相关订单</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 待评价 -->\r\n\t\t\t\t<swiper-item>\r\n\t\t\t\t\t<scroll-view @scrolltolower=\"getSelectOrderr(pageNum)\" scroll-with-animation=\"true\" scroll-y=\"true\" style=\"height:1242rpx;\">\r\n\t\t\t\t\t\t<view class=\"mg-goodsCard-box\" v-if=\"selectOrdedel != ''\">\r\n\t\t\t\t\t\t\t<!-- 卡片循环 -->\r\n\t\t\t\t\t\t\t<view class=\"mg-goodsCard\" v-for=\"(item,index) in selectOrdedel\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t<!-- <view class=\"mg-goodsCard\"> -->\r\n\t\t\t\t\t\t\t\t<!-- 商铺logo和标题订单状态 -->\r\n\t\t\t\t\t\t\t\t<view class=\"mg-shop\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"mg-shop-img\">\r\n\t\t\t\t\t\t\t\t\t\t<image :src=\"item.userAvatar\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"mg-shop-img-view\">{{item.userName}}</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"mg-dealState-pay\">待评价</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- 订单详情 -->\r\n\t\t\t\t\t\t\t\t<view class=\"mg-goodsIntroduction\">\r\n\t\t\t\t\t\t\t\t\t<image :src=\"item.goodsImg\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t\t<view class=\"mg-PurchasedGoods\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"mg-GoodsTitle\">{{item.goodsName}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"mg-goodsPriceAndSum\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"price\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text>¥</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{(item.price / 100).toFixed(2)}}</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- 更多和支付 -->\r\n\t\t\t\t\t\t\t\t<view class=\"mg-more\">\r\n\t\t\t\t\t\t\t\t\t<text @click=\"deletedeal(index)\">更多</text>\r\n\t\t\t\t\t\t\t\t\t<view class=\"deleteDeal\" v-if=\"flag == index\" @click=\"deleteOrder(item.id)\">删除订单</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"used\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"used-1\">联系卖家</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"used-2\">去评价</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"used-3\" @click=\"OrderDetails(item.id)\">查看物流</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"mg-goodsCard-box\" v-else>\r\n\t\t\t\t\t\t\t<!-- 卡片循环 -->\r\n\t\t\t\t\t\t\t<view class=\"mg-goodsCard-box-none\" style=\"text-align: center;\">\r\n\t\t\t\t\t\t\t\t<image src=\"https://mang-gou.tos-cn-beijing.volces.com/allOrder%2F%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20230724170906.png\"></image>\r\n\t\t\t\t\t\t\t\t<view v-if=\"currs == 2\">还没有相关订单</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 已完成 -->\r\n\t\t\t\t<swiper-item>\r\n\t\t\t\t\t<scroll-view @scrolltolower=\"getSelectOrderr(pageNum)\" scroll-with-animation=\"true\" scroll-y=\"true\" style=\"height:1242rpx;\">\r\n\t\t\t\t\t\t<view class=\"mg-goodsCard-box\" v-if=\"selectOrdedel != ''\">\r\n\t\t\t\t\t\t\t<!-- 卡片循环 -->\r\n\t\t\t\t\t\t\t<view class=\"mg-goodsCard\" v-for=\"(item,index) in selectOrdedel\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t<!-- <view class=\"mg-goodsCard\"> -->\r\n\t\t\t\t\t\t\t\t<!-- 商铺logo和标题订单状态 -->\r\n\t\t\t\t\t\t\t\t<view class=\"mg-shop\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"mg-shop-img\">\r\n\t\t\t\t\t\t\t\t\t\t<image :src=\"item.userAvatar\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"mg-shop-img-view\">{{item.userName}}</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"mg-dealState-pay\">交易完成</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- 订单详情 -->\r\n\t\t\t\t\t\t\t\t<view class=\"mg-goodsIntroduction\">\r\n\t\t\t\t\t\t\t\t\t<image :src=\"item.goodsImg\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t\t<view class=\"mg-PurchasedGoods\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"mg-GoodsTitle\">{{item.goodsName}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"mg-goodsPriceAndSum\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"price\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text>¥</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{(item.price / 100).toFixed(2)}}</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- 更多和支付 -->\r\n\t\t\t\t\t\t\t\t<view class=\"mg-more\">\r\n\t\t\t\t\t\t\t\t\t<text @click=\"deletedeal(index)\">更多</text>\r\n\t\t\t\t\t\t\t\t\t<view class=\"deleteDeal\" v-if=\"flag == index\" @click=\"deleteOrder(item.id)\">删除订单</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"used\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"used-1\">联系卖家</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"used-4\">已评价</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"used-3\" @click=\"OrderDetails(item.id)\">查看物流</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"mg-goodsCard-box\" v-else>\r\n\t\t\t\t\t\t\t<!-- 卡片循环 -->\r\n\t\t\t\t\t\t\t<view class=\"mg-goodsCard-box-none\" style=\"text-align: center;\">\r\n\t\t\t\t\t\t\t\t<image src=\"https://mang-gou.tos-cn-beijing.volces.com/allOrder%2F%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20230724170906.png\"></image>\r\n\t\t\t\t\t\t\t\t<view v-if=\"currs == 3\">还没有相关订单</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t\r\n\t\t\t</swiper>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tconst app = getApp();\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcurr: 0,\r\n\t\t\t\tactive:0,\r\n\t\t\t\ttaber:['全部','待付款','待收货','待评价','已完成'],\r\n\t\t\t\tmyDeal:[],\r\n\t\t\t\tselectOrdedel:[],\r\n\t\t\t\tflag:null,\r\n\t\t\t\tselectAllOrdedel:[],\r\n\t\t\t\tcurrs:null,\r\n\t\t\t\ttotal:null,\r\n\t\t\t\tpage:0,\r\n\t\t\t\tlist:null,\r\n\t\t\t\tbutton:'',\r\n\t\t\t\tuserInfo: {},\r\n\t\t\t\tpageNum: 1,\r\n\t\t\t\tpageNumAllOrder: 1,\r\n\t\t\t\t\r\n\t\t\t\ttimer: null,\r\n\t\t\t\ttimerAll: null\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tcurr(newValue,oldValue) {\r\n\t\t\t\tthis.pageNum = 1;\r\n\t\t\t\tthis.pageNumAllOrder = 1;\r\n\t\t\t\t\r\n\t\t\t\tthis.selectOrdedel = [];\r\n\t\t\t\tthis.selectAllOrdedel = [];\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 查看物流\r\n\t\t\tOrderDetails(id){\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: \"暂未开放，敬请期待\",\r\n\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t})\r\n\t\t\t\t// uni.navigateTo({\r\n\t\t\t\t// \turl:'/pages/logistics/logistics?id=' + id\r\n\t\t\t\t// })\r\n\t\t\t},\r\n\t\t\t// 查询全部订单信息\r\n\t\t\tgetAllOrder(pageNum = 1,pageSize = 6){\r\n\t\t\t\tif(this.selectAllOrdedel.length !== this.total || this.total === null) {\r\n\t\t\t\t\tapp.globalData.selectAllOrder({\r\n\t\t\t\t\t\tpageNum,\r\n\t\t\t\t\t\tpageSize,\r\n\t\t\t\t\t\tuserId: this.userInfo.id,\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\tif(res.data !== undefined) {\r\n\t\t\t\t\t\t\tthis.pageNumAllOrder++;\r\n\t\t\t\t\t\t\tthis.total = res.data.total;\r\n\t\t\t\t\t\t\tconst newLenght = res.data.records.length;\r\n\t\t\t\t\t\t\tthis.selectAllOrdedel = this.selectAllOrdedel.concat(this.dataHandle(res.data.records,newLenght));\r\n\t\t\t\t\t\t\tconsole.log(\"^^^^^^^^^^^^^^^^^^^^^^^^^\");\r\n\t\t\t\t\t\t\tconsole.log(res.data.records);\r\n\t\t\t\t\t\t\tconsole.log(this.selectAllOrdedel);\r\n\t\t\t\t\t\t} else if(pageNum === 1) {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: \"还没有订单哦\",\r\n\t\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: \"没有数据了哦~\",\r\n\t\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: err.message,\r\n\t\t\t\t\t\t\ticon: \"error\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tthis.button = '到底了~'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 点击更多\r\n\t\t\tdeletedeal(e) {\r\n\t\t\t\tif (this.flag == e) {\r\n\t\t\t\t\tthis.flag = null\r\n\t\t\t\t\t// console.log(this.flag,'111');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.flag = e\r\n\t\t\t\t\t// console.log(this.flag,'222');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 删除订单\r\n\t\t\tdeleteOrder(id) {\r\n\t\t\t\t// console.log(e,'删除订单--------');\r\n\t\t\t\tthis.flag = null\r\n\t\t\t\tlet that = this\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '删除订单',\r\n\t\t\t\t\tcontent: '确定删除该订单吗？',\r\n\t\t\t\t\tshowCancel: true,\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tapp.globalData.deleteOrder({\r\n\t\t\t\t\t\t\t\tid: id,\r\n\t\t\t\t\t\t\t\tuserId:that.userInfo.id,\r\n\t\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\t\tconsole.log(res,'res----');\r\n\t\t\t\t\t\t\t\t// uni.redirectTo({\r\n\t\t\t\t\t\t\t\t// \turl:'/pages/allOrder/allOrder?curr=' + this.curr\r\n\t\t\t\t\t\t\t\t// })\r\n\t\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\t\turl:'/pages/allOrder/allOrder?userId=' + this.userInfo.id\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tconsole.log('删除成功');\r\n\t\t\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\t\t\tconsole.log(err,'err----');\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\tconsole.log('删除失败');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 节流\r\n\t\t\t// throttle(fun,t) {\r\n\t\t\t//     let timer = null;\r\n\t\t\t//     return function() \r\n\t\t\t// }, \r\n\r\n\t\t\t//swiper-item\r\n\t\t\tsetCurr(e) {\r\n\t\t\t\tthis.curr = e.detail.current || e.currentTarget.dataset.index || 0;\r\n\t\t\t\tthis.page = 1\r\n\t\t\t\t\r\n\t\t\t\t// 根据状态获取订单\r\n\t\t\t\t// 节流控制\r\n\t\t\t\tif(!timer){\r\n\t\t\t\t\tconsole.log(\"******************\");\r\n\t\t\t\t\ttimer = setTimeout(function() {\r\n\t\t\t\t\t\tthis.getSelectOrderr();\r\n\t\t\t\t\t\t// 清除定时器后，以下次可以继续定时\r\n\t\t\t\t\t\ttimer = null;\r\n\t\t\t\t\t},50);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// 获取所有订单\r\n\t\t\t\tif(this.curr === 0) {\r\n\t\t\t\t\t// 节流控制\r\n\t\t\t\t\tif(!timerAll){\r\n\t\t\t\t\t\ttimerAll = setTimeout(function() {\r\n\t\t\t\t\t\t\tthis.getAllOrder();\r\n\t\t\t\t\t\t\t// 清除定时器后，以下次可以继续定时\r\n\t\t\t\t\t\t\ttimerAll = null;\r\n\t\t\t\t\t\t},50);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 返回\r\n\t\t\ttoBack(){\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta: 1\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//订单\r\n\t\t\tgetSelectOrderr() {\r\n\t\t\t\tthis.currs = this.curr - 1\r\n\t\t\t\tapp.globalData.selectOrderByStatus({\r\n\t\t\t\t\tuserId: this.userInfo.id,\r\n\t\t\t\t\tstatus: this.currs,\r\n\t\t\t\t\tpageNum: this.pageNum,\r\n\t\t\t\t\tpageSize: 6\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif(res.data.records != undefined) {\r\n\t\t\t\t\t\tconst newLenght = res.data.records.length;\r\n\t\t\t\t\t\tthis.pageNum++;\r\n\t\t\t\t\t\tthis.selectOrdedel = this.selectOrdedel.concat(this.dataHandle(res.data.records,newLenght));\r\n\t\t\t\t\t\tconsole.log(\"__________________________\");\r\n\t\t\t\t\t\tconsole.log(res.data.records);\r\n\t\t\t\t\t\tconsole.log(this.selectOrdedel);\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: err.message,\r\n\t\t\t\t\t\ticon: \"error\"\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 数据处理逻辑\r\n\t\t\tdataHandle(arr,newLenght) {\r\n \t\t\t\tfor(let i = arr.length - newLenght; i < arr.length; i++) {\r\n\t\t\t\t\tarr[i].goodsImg = JSON.parse(arr[i].goodsImg)[0];\r\n\t\t\t\t\tif(arr[i].expireTime) {\r\n\t\t\t\t\t\tarr[i].expireTime = arr[i].expireTime.split(\" \")[1];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn arr;\r\n\t\t\t},\r\n\t\t\t// 待付款按钮\r\n\t\t\tbuy(item) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle:\"加载中\",\r\n\t\t\t\t\ticon:\"loading\"\r\n\t\t\t\t})\r\n\t\t\t\tthis.getWxPayById(item.adminOrderId);\r\n\t\t\t},\r\n\t\t\t// 根据id获取微信支付签名\r\n\t\t\tgetWxPayById(outTradeNo) {\r\n\t\t\t\tapp.globalData.getWxPaymentSignature({\r\n\t\t\t\t\toutTradeNo,\r\n\t\t\t\t}).then (res => {\r\n\t\t\t\t\tthis.wxPayment(JSON.parse(res.data));\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: err.message,\r\n\t\t\t\t\t\ticon: \"error\"\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 支付\r\n\t\t\twxPayment(data) {\r\n\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\tprovider:'wxpay',\r\n\t\t\t\t\ttimeStamp: data.timeStamp,\r\n\t\t\t\t\tnonceStr: data.nonceStr,\r\n\t\t\t\t\tpackage: data.packageStr,\r\n\t\t\t\t\tsignType: data.signType,\r\n\t\t\t\t\tpaySign: data.paySign,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:'支付成功',\r\n\t\t\t\t\t\t\ticon:'success'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl:'/pages/allOrder/allOrder?curr=' + 2 + '&userId=' + this.userInfo.id\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:'支付失败',\r\n\t\t\t\t\t\t\ticon:'error'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 确认收货\r\n\t\t\tconfirmReceipt(orderId) {\r\n\t\t\t\tapp.globalData.confirmReceipt({\r\n\t\t\t\t\torderId,\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthis.curr = 4; \r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: err.message,\r\n\t\t\t\t\t\ticon: \"error\"\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tthis.userInfo = uni.getStorageSync(\"userInfo\");\r\n\t\t\t\r\n\t\t\tif(option.curr) {\r\n\t\t\t\tthis.curr = option.curr\r\n\t\t\t} else {\r\n\t\t\t\tthis.getAllOrder();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t@import 'allOrder.scss';\r\n</style>\r\n","import mod from \"-!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./allOrder.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./allOrder.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}