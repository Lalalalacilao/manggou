(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/address/address"],{357:function(e,t,s){"use strict";(function(e,t){var n=s(4);s(26);n(s(25));var d=n(s(358));e.__webpack_require_UNI_MP_PLUGIN__=s,t(d.default)}).call(this,s(1)["default"],s(2)["createPage"])},358:function(e,t,s){"use strict";s.r(t);var n=s(359),d=s(361);for(var r in d)["default"].indexOf(r)<0&&function(e){s.d(t,e,(function(){return d[e]}))}(r);s(363);var i,o=s(35),a=Object(o["default"])(d["default"],n["render"],n["staticRenderFns"],!1,null,null,null,!1,n["components"],i);a.options.__file="pages/address/address.vue",t["default"]=a.exports},359:function(e,t,s){"use strict";s.r(t);var n=s(360);s.d(t,"render",(function(){return n["render"]})),s.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]})),s.d(t,"recyclableRender",(function(){return n["recyclableRender"]})),s.d(t,"components",(function(){return n["components"]}))},360:function(e,t,s){"use strict";var n;s.r(t),s.d(t,"render",(function(){return d})),s.d(t,"staticRenderFns",(function(){return i})),s.d(t,"recyclableRender",(function(){return r})),s.d(t,"components",(function(){return n}));var d=function(){var e=this,t=e.$createElement;e._self._c},r=!1,i=[];d._withStripped=!0},361:function(e,t,s){"use strict";s.r(t);var n=s(362),d=s.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){s.d(t,e,(function(){return n[e]}))}(r);t["default"]=d.a},362:function(e,t,s){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=getApp(),n={data:function(){return{myAddress:[],userInfo:{},select:!1}},methods:{switchBtn:function(t,n){var d=this;!0===this.myAddress[t].isDefault?this.myAddress[t].isDefault=!this.myAddress[t].isDefault:(this.myAddress.forEach((function(e){e.isDefault=!1})),console.log(n,this.myAddress[t].id),s.globalData.setDefault({userId:""+n,locId:""+this.myAddress[t].id}).then((function(e){d.myAddress[t].isDefault=!0,console.log(d.myAddress[t].isDefault)})).catch((function(t){e.showToast({title:"默认地址设置失败",icon:"error"})})))},chooseThis:function(e,t){this.userId=t,this.myAddress[e].isChoose=!this.myAddress[e].isChoose},editThis:function(t){e.navigateTo({url:"/pages/addAddress/addAddress?index="+t})},back:function(){e.navigateBack({delta:1})},deleteThis:function(t,n){var d=this;s.globalData.deleteAddress({locId:this.myAddress[t].id,userId:this.userInfo.id}).then((function(t){console.log(t,"res---------"),d.getAddress(n),e.showToast({title:"删除成功",icon:"none"})})).catch((function(t){e.showToast({title:res.message,icon:"error"})}))},deleteAll:function(){for(var e=this,t=[],s=0;s<this.myAddress.length;s++)this.myAddress[s].isChoose&&(t.push(s),console.log(t));t.forEach((function(t){e.deleteThis(t)}))},submit:function(){var t=null;t=this.myAddress.filter((function(e){if(!0===e.isChoose)return e}))[0],e.setStorageSync("newAddress",t),e.navigateBack({delta:1})},addAddress:function(){e.navigateTo({url:"/pages/addAddress/addAddress"})},getAddress:function(t){var n=this;s.globalData.getUserAddress({userId:this.userInfo.id}).then((function(t){void 0!==t.data?(n.myAddress=t.data,console.log(n.myAddress),n.dataHandle()):e.showToast({title:"您还没有地址，快添加吧！",icon:"none"})})).catch((function(t){e.showToast({title:t.message,icon:"error"})}))},dataHandle:function(){for(var e=0;e<this.myAddress.length;e++)1===this.myAddress[e].isDefault?this.myAddress[e].isDefault=!0:this.myAddress[e].isDefault=!1,this.$set(this.myAddress[e],"isChoose",!1)}},onLoad:function(t){"select"===t.type&&(this.select=!0),this.userInfo=e.getStorageSync("userInfo")},onShow:function(){this.getAddress(this.userInfo.id)}};t.default=n}).call(this,s(2)["default"])},363:function(e,t,s){"use strict";s.r(t);var n=s(364),d=s.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){s.d(t,e,(function(){return n[e]}))}(r);t["default"]=d.a},364:function(e,t,s){}},[[357,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/address/address.js.map