(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/editMyPublish/editMyPublish"],{342:function(t,e,n){"use strict";(function(t,e){var i=n(4);n(26);i(n(25));var o=i(n(343));t.__webpack_require_UNI_MP_PLUGIN__=n,e(o.default)}).call(this,n(1)["default"],n(2)["createPage"])},343:function(t,e,n){"use strict";n.r(e);var i=n(344),o=n(346);for(var r in o)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(r);n(348);var a,c=n(34),u=Object(c["default"])(o["default"],i["render"],i["staticRenderFns"],!1,null,"96f7fa8c",null,!1,i["components"],a);u.options.__file="pages/editMyPublish/editMyPublish.vue",e["default"]=u.exports},344:function(t,e,n){"use strict";n.r(e);var i=n(345);n.d(e,"render",(function(){return i["render"]})),n.d(e,"staticRenderFns",(function(){return i["staticRenderFns"]})),n.d(e,"recyclableRender",(function(){return i["recyclableRender"]})),n.d(e,"components",(function(){return i["components"]}))},345:function(t,e,n){"use strict";var i;n.r(e),n.d(e,"render",(function(){return o})),n.d(e,"staticRenderFns",(function(){return a})),n.d(e,"recyclableRender",(function(){return r})),n.d(e,"components",(function(){return i}));var o=function(){var t=this,e=t.$createElement;t._self._c},r=!1,a=[];o._withStripped=!0},346:function(t,e,n){"use strict";n.r(e);var i=n(347),o=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=o.a},347:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=getApp(),i={data:function(){return{type:"admin",position:"xx街道",uploadPreviewImage:[],intr:"",title:"",price:"0.00",id:0}},onLoad:function(t){var e=this;this.id=t.id,n.globalData.getGoodInfo({id:t.id}).then((function(t){console.log(t),e.uploadPreviewImage=JSON.parse(t.data.imgUrl),e.title=t.data.goodsName,e.intr=t.data.introduction,e.price=t.data.price/100})).catch((function(t){console.log(t)}))},methods:{back:function(){t.navigateBack({delta:1})},coding:function(){t.showToast({title:"奋力开发中~",icon:"error"})},del:function(e){t.showModal({title:"提示",content:"确定删除吗？",success:function(t){t.confirm&&(this.uploadPreviewImage=this.uploadPreviewImage.filter((function(t,n){return n!==e})))}.bind(this)})},uploadImage:function(){var e=this;t.chooseImage({count:6,sizeType:["original","compressed"],sourceType:["album"],success:function(n){console.log(n),t.uploadFile({url:"https://www.ydtloan.com/tos/uploadFile",files:n.tempFiles,filePath:n.tempFilePaths[0],name:"file",header:{token:t.getStorageSync("token")},success:function(t){console.log(t),e.uploadPreviewImage.push(JSON.parse(t.data).url)},fail:function(e){t.showToast({title:e.message,icon:"error"})}})},fail:function(t){console.log(t)}})},submit:function(){0!==this.uploadPreviewImage.length?""!==this.title?""!==this.intr?"0.00"!==this.price&&""!==this.price?n.globalData.modifyGoodInfo({id:this.id,goodsName:this.title,introduction:this.intr,price:100*+this.price,imgUrl:JSON.stringify(this.uploadPreviewImage)}).then((function(e){0===e.status&&t.navigateBack({delta:1})})).catch((function(t){console.log(t)})):t.showToast({title:"请填写商品价格",icon:"error"}):t.showToast({title:"请填写商品简介",icon:"error"}):t.showToast({title:"请填写商品名称",icon:"error"}):t.showToast({title:"请上传图片",icon:"error"})}}};e.default=i}).call(this,n(2)["default"])},348:function(t,e,n){"use strict";n.r(e);var i=n(349),o=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=o.a},349:function(t,e,n){}},[[342,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/editMyPublish/editMyPublish.js.map